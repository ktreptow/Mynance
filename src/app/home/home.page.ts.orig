<<<<<<< HEAD
import { Component } from '@angular/core';
import { Router } from '@angular/router';
import { AuthService } from '../core/auth.service'
=======
import {Component} from '@angular/core';
import {Router} from '@angular/router';

import {AuthService} from '../core/auth.service';
import {PersistenceService} from '../core/persistence.service';
import {Account} from '../core/account';
import {User} from '../core/user';
>>>>>>> dominik

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
  providers: [AuthService]
})

export class HomePage {

  private user: User;
  private accounts: Account[] = [];

  constructor(
    private router: Router,
<<<<<<< HEAD
    private authService: AuthService
=======
    private authSer: AuthService,
    private perSer: PersistenceService
>>>>>>> dominik
  ) {
    console.log(this.router.url);
    authSer.user.subscribe((user) => { this.user = user; });

    const dummyAcc: Account = {
      name: 'Test-Konto',
      balance: 123
    };
    if (this.user !== null) {
      perSer.addAccount(this.user, dummyAcc);
      perSer.getAccounts(this.user).subscribe((accounts) => { this.accounts = accounts; } );
    } else {
      console.log('User === null');
    }

  }

  signOut() {
    this.authService.signOut();
    this.router.navigateByUrl('/login');
  }
}
